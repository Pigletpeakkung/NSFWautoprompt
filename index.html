<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Yaoi Doujin NSFW Prompt Generator (2025 Edition)</title>
    <!-- Bootstrap 5 CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <!-- Custom CSS -->
    <style>
        :root {
            --primary-color: #ff6f91; /* Yaoi-inspired pink */
            --secondary-color: #2d1b4e; /* Dark purple accent */
            --bg-color: #f8f1f9; /* Soft background */
            --card-bg: #ffffff;
            --text-color: #333;
        }
        body {
            background-color: var(--bg-color);
            color: var(--text-color);
            font-family: 'Segoe UI', Arial, sans-serif;
            padding: 20px;
        }
        .container {
            max-width: 900px;
        }
        .card {
            background-color: var(--card-bg);
            border: none;
            border-radius: 10px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            margin-bottom: 1.5rem;
        }
        .card-header {
            background-color: var(--primary-color);
            color: white;
            border-radius: 10px 10px 0 0;
            cursor: pointer;
            transition: background-color 0.3s;
        }
        .card-header:hover {
            background-color: #e65b7c;
        }
        .form-label {
            font-weight: 600;
            margin-bottom: 0.5rem;
        }
        .form-select, .form-check-input {
            border-radius: 5px;
        }
        .btn-primary {
            background-color: var(--primary-color);
            border: none;
            transition: transform 0.2s;
        }
        .btn-primary:hover {
            background-color: var(--secondary-color);
            transform: scale(1.05);
        }
        .btn-secondary {
            background-color: var(--secondary-color);
        }
        .nsfw-warning {
            color: #d9534f;
            font-size: 0.9rem;
            margin-top: 0.5rem;
        }
        #finalPrompt {
            background-color: var(--card-bg);
            border-radius: 5px;
            padding: 1rem;
            white-space: pre-wrap;
            display: none;
            font-family: 'Courier New', monospace;
        }
        .tooltip-inner {
            background-color: var(--secondary-color);
            color: white;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1 class="text-center mb-4">Yaoi Doujin NSFW Prompt Generator (2025 Edition)</h1>

        <!-- NSFW Settings -->
        <div class="card">
            <div class="card-header" data-bs-toggle="collapse" data-bs-target="#nsfwSettings">
                <h2 class="mb-0">NSFW Settings</h2>
            </div>
            <div id="nsfwSettings" class="collapse show">
                <div class="card-body">
                    <div class="form-check">
                        <input class="form-check-input" type="checkbox" id="nsfwToggle" checked>
                        <label class="form-check-label" for="nsfwToggle">Enable NSFW Elements (Explicit Content)</label>
                        <div class="nsfw-warning">Warning: NSFW options (e.g., penis, cum) may not be compatible with platforms like PixAI. Check guidelines.</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Art Style -->
        <div class="card">
            <div class="card-header" data-bs-toggle="collapse" data-bs-target="#artStyle">
                <h2 class="mb-0">Art Style</h2>
            </div>
            <div id="artStyle" class="collapse show">
                <div class="card-body">
                    <label class="form-label" for="artStyle" data-bs-toggle="tooltip" title="Choose the visual style for your yaoi doujin artwork">Art Style:</label>
                    <select class="form-select" id="artStyle" aria-label="Art Style">
                        <option value="none">None</option>
                        <option value="anime style, highly detailed, vibrant colors, score_9" selected>Anime, Highly Detailed, Score_9</option>
                        <option value="manga style, sharp lines, dynamic shading">Manga, Sharp Lines</option>
                        <option value="doujinshi style, expressive, soft glow">Doujinshi, Expressive</option>
                        <option value="photorealistic anime, ultra HD">Photorealistic Anime, Ultra HD</option>
                        <option value="isekai fantasy rendering">Isekai Fantasy Rendering (2025 Trend)</option>
                    </select>
                    <label class="form-label" for="artExtra" data-bs-toggle="tooltip" title="Add custom style details, e.g., watercolor or nsfw shading">Extra Style (Optional):</label>
                    <input type="text" class="form-control" id="artExtra" placeholder="e.g., watercolor aesthetic, nsfw shading (NSFW)">
                </div>
            </div>
        </div>

        <!-- Camera and Composition -->
        <div class="card">
            <div class="card-header" data-bs-toggle="collapse" data-bs-target="#camera">
                <h2 class="mb-0">Camera and Composition</h2>
            </div>
            <div id="camera" class="collapse show">
                <div class="card-body">
                    <label class="form-label" for="cameraShot">Camera Shot:</label>
                    <select class="form-select" id="cameraShot">
                        <option value="none">None</option>
                        <option value="Cowboy shot" selected>Cowboy shot</option>
                        <option value="Close-up shot">Close-up shot</option>
                        <option value="Full shot">Full shot</option>
                        <option value="Wide-angle shot">Wide-angle shot</option>
                    </select>
                    <label class="form-label" for="cameraAngle">Camera Angle:</label>
                    <select class="form-select" id="cameraAngle">
                        <option value="none">None</option>
                        <option value="Dutch angle" selected>Dutch angle</option>
                        <option value="Low angle">Low angle</option>
                        <option value="Eye-level angle">Eye-level angle</option>
                        <option value="Overhead shot">Overhead shot</option>
                    </select>
                    <label class="form-label" for="cameraExtra">Extra Effect (Optional):</label>
                    <input type="text" class="form-control" id="cameraExtra" placeholder="e.g., cinematic zoom, intimate close-up (NSFW)">
                </div>
            </div>
        </div>

        <!-- Stylistic Effects -->
        <div class="card">
            <div class="card-header" data-bs-toggle="collapse" data-bs-target="#effects">
                <h2 class="mb-0">Stylistic Effects</h2>
            </div>
            <div id="effects" class="collapse show">
                <div class="card-body">
                    <label class="form-label" for="effect1">Effect 1:</label>
                    <select class="form-select" id="effect1">
                        <option value="none">None</option>
                        <option value="motion lines" selected>Motion lines</option>
                        <option value="speed blur">Speed blur</option>
                        <option value="blush overlays">Blush Overlays (2025 Trend)</option>
                    </select>
                    <label class="form-label" for="effect2">Effect 2:</label>
                    <select class="form-select" id="effect2">
                        <option value="none">None</option>
                        <option value="cartoon sparks" selected>Cartoon sparks</option>
                        <option value="glowing runes">Glowing runes</option>
                        <option value="energy bursts">Energy bursts</option>
                        <option value="heart effects" class="nsfw">Heart effects (NSFW)</option>
                    </select>
                    <label class="form-label" for="bokeh">Bokeh Weight:</label>
                    <select class="form-select" id="bokeh">
                        <option value="none">None</option>
                        <option value="bokeh (1.1)" selected>bokeh (1.1)</option>
                        <option value="bokeh (0.8)">bokeh (0.8)</option>
                        <option value="bokeh (1.3)">bokeh (1.3)</option>
                    </select>
                    <label class="form-label" for="effectExtra">Extra Effect (Optional):</label>
                    <input type="text" class="form-control" id="effectExtra" placeholder="e.g., lens flare, cum effects (NSFW)">
                </div>
            </div>
        </div>

        <!-- Character Description -->
        <div class="card">
            <div class="card-header" data-bs-toggle="collapse" data-bs-target="#character">
                <h2 class="mb-0">Character Description</h2>
            </div>
            <div id="character" class="collapse show">
                <div class="card-body">
                    <label class="form-label" for="characterType">Character Type:</label>
                    <select class="form-select" id="characterType">
                        <option value="none">None</option>
                        <optgroup label="Yaoi Roles">
                            <option value="1boy, solo male focus, lean build, yaoi uke" selected>Yaoi Uke</option>
                            <option value="1boy, solo male focus, muscular build, yaoi seme">Yaoi Seme</option>
                            <option value="1boy, solo male focus, slender build, bi/pan protagonist">Bi/Pan Protagonist (2025 Inclusive)</option>
                        </optgroup>
                        <optgroup label="Fantasy Roles">
                            <option value="1boy, solo male focus, slender build, fantasy rogue">Fantasy Rogue</option>
                            <option value="1boy, solo male focus, agile build, elf archer">Elf Archer</option>
                            <option value="1boy, solo male focus, lean build, isekai protagonist">Isekai Protagonist (2025 Trend)</option>
                        </optgroup>
                    </select>
                    <label class="form-label" for="hair">Hair Style:</label>
                    <select class="form-select" id="hair">
                        <option value="none">None</option>
                        <option value="raven-black hair (short tousled hair:1.1)">Raven-black, Short Tousled</option>
                        <option value="silver hair (long ponytail:1.1)">Silver, Long Ponytail</option>
                        <option value="blonde hair (short cropped hair:1.1)">Blonde, Short Cropped</option>
                        <option value="white-silver hair (wavy hair:1.1)" selected>White-silver, Wavy (2025 Trend)</option>
                    </select>
                    <label class="form-label" for="hairEffect">Hair Effect:</label>
                    <select class="form-select" id="hairEffect">
                        <option value="none">None</option>
                        <option value="windswept hair" selected>Windswept Hair</option>
                        <option value="flowing hair">Flowing Hair</option>
                        <option value="sweat-dampened hair" class="nsfw">Sweat-dampened Hair (NSFW)</option>
                        <option value="matted with cum" class="nsfw">Matted with Cum (NSFW)</option>
                    </select>
                    <label class="form-label" for="eyes">Eyes:</label>
                    <select class="form-select" id="eyes">
                        <option value="none">None</option>
                        <option value="amber eyes">Amber Eyes</option>
                        <option value="ice-blue eyes" selected>Ice-blue Eyes</option>
                        <option value="glowing red eyes">Glowing Red Eyes</option>
                        <option value="seductive violet eyes" class="nsfw">Seductive Violet Eyes (NSFW)</option>
                    </select>
                    <label class="form-label" for="pose">Pose/Expression:</label>
                    <select class="form-select" id="pose">
                        <option value="none">None</option>
                        <option value="looking at viewer" selected>Looking at Viewer</option>
                        <option value="casting spell">Casting Spell</option>
                        <option value="seductive pose" class="nsfw">Seductive Pose (NSFW)</option>
                        <option value="aroused expression" class="nsfw">Aroused Expression (NSFW)</option>
                    </select>
                    <label class="form-label" for="bodyDetail">Body Detail:</label>
                    <select class="form-select" id="bodyDetail">
                        <option value="none">None</option>
                        <option value="exposed torso" class="nsfw">Exposed Torso (NSFW)</option>
                        <option value="visible arousal" class="nsfw">Visible Arousal (NSFW)</option>
                        <option value="flushed cheeks" class="nsfw">Flushed Cheeks (NSFW)</option>
                        <option value="erection" class="nsfw">Erection (NSFW)</option>
                    </select>
                    <label class="form-label" for="charExtra">Extra Detail:</label>
                    <select class="form-select" id="charExtra">
                        <option value="none">None</option>
                        <option value="facial scar">Facial Scar</option>
                        <option value="erotic tattoos" class="nsfw">Erotic Tattoos (NSFW)</option>
                        <option value="sweat beads" class="nsfw">Sweat Beads (NSFW)</option>
                        <option value="trauma backstory" class="trend">Trauma Backstory (2025 Trend)</option>
                    </select>
                </div>
            </div>
        </div>

        <!-- Trope Selector -->
        <div class="card">
            <div class="card-header" data-bs-toggle="collapse" data-bs-target="#trope">
                <h2 class="mb-0">Trope Selector (2025 Trends)</h2>
            </div>
            <div id="trope" class="collapse show">
                <div class="card-body">
                    <label class="form-label" for="tropeMain">Main Trope:</label>
                    <select class="form-select" id="tropeMain">
                        <option value="none">None</option>
                        <option value="seme/uke dynamic" selected>Seme/Uke Dynamic (Classic)</option>
                        <option value="forbidden love">Forbidden Love</option>
                        <option value="isekai romance">Isekai Romance (2025 Trend)</option>
                        <option value="psychological trauma recovery">Psychological Trauma Recovery (2025 Trend)</option>
                    </select>
                    <label class="form-label" for="tropeExtra">Extra Trope:</label>
                    <select class="form-select" id="tropeExtra">
                        <option value="none">None</option>
                        <option value="childhood friends to lovers">Childhood Friends to Lovers</option>
                        <option value="vampire seduction" class="nsfw">Vampire Seduction (NSFW, 2025)</option>
                        <option value="confession under moonlight">Confession Under Moonlight</option>
                    </select>
                </div>
            </div>
        </div>

        <!-- Character Attire and Accessories -->
        <div class="card">
            <div class="card-header" data-bs-toggle="collapse" data-bs-target="#attire">
                <h2 class="mb-0">Character Attire and Accessories</h2>
            </div>
            <div id="attire" class="collapse show">
                <div class="card-body">
                    <label class="form-label" for="attire">Attire:</label>
                    <select class="form-select" id="attire">
                        <option value="none">None</option>
                        <optgroup label="Fantasy Attire">
                            <option value="rune-etched robes" selected>Rune-etched Robes</option>
                            <option value="tattered leather armor">Tattered Leather Armor</option>
                            <option value="vampire cape">Vampire Cape (2025 Trend)</option>
                        </optgroup>
                        <optgroup label="NSFW Attire">
                            <option value="torn fundoshi" class="nsfw">Torn Fundoshi (NSFW)</option>
                            <option value="bare skin with chains" class="nsfw">Bare Skin with Chains (NSFW)</option>
                            <option value="yakuza suit (torn)" class="nsfw">Yakuza Suit (Torn, NSFW, 2025 Trend)</option>
                        </optgroup>
                    </select>
                    <label class="form-label" for="weapon">Weapon/Accessory:</label>
                    <select class="form-select" id="weapon">
                        <option value="none">None</option>
                        <option value="glowing staff" selected>Glowing Staff</option>
                        <option value="enchanted sword">Enchanted Sword</option>
                        <option value="dual daggers">Dual Daggers</option>
                    </select>
                    <label class="form-label" for="accessory">Additional Accessory:</label>
                    <select class="form-select" id="accessory">
                        <option value="none">None</option>
                        <option value="silver amulet" selected>Silver Amulet</option>
                        <option value="iron gauntlets">Iron Gauntlets</option>
                        <option value="leather cuffs" class="nsfw">Leather Cuffs (NSFW)</option>
                        <option value="erotic piercing" class="nsfw">Erotic Piercing (NSFW)</option>
                    </select>
                    <label class="form-label" for="attireExtra">Extra Attire Detail:</label>
                    <select class="form-select" id="attireExtra">
                        <option value="none">None</option>
                        <option value="belt with spellbooks">Belt with Spellbooks</option>
                        <option value="penis visible" class="nsfw">Penis Visible (NSFW)</option>
                        <option value="cum stains" class="nsfw">Cum Stains (NSFW)</option>
                        <option value="cum drips" class="nsfw">Cum Drips (NSFW)</option>
                    </select>
                </div>
            </div>
        </div>

        <!-- Lighting and Atmosphere -->
        <div class="card">
            <div class="card-header" data-bs-toggle="collapse" data-bs-target="#lighting">
                <h2 class="mb-0">Lighting and Atmosphere</h2>
            </div>
            <div id="lighting" class="collapse show">
                <div class="card-body">
                    <label class="form-label" for="lighting1">Lighting Style 1:</label>
                    <select class="form-select" id="lighting1">
                        <option value="none">None</option>
                        <option value="dynamic lighting" selected>Dynamic Lighting</option>
                        <option value="soft ambient lighting">Soft Ambient Lighting</option>
                        <option value="harsh spotlight">Harsh Spotlight</option>
                    </select>
                    <label class="form-label" for="lighting2">Lighting Style 2:</label>
                    <select class="form-select" id="lighting2">
                        <option value="none">None</option>
                        <option value="dramatic lighting" selected>Dramatic Lighting</option>
                        <option value="soft moonlight">Soft Moonlight</option>
                        <option value="sensual red glow" class="nsfw">Sensual Red Glow (NSFW)</option>
                        <option value="moonlit ritual" class="trend">Moonlit Ritual (2025 Trend)</option>
                    </select>
                    <label class="form-label" for="atmosphere">Atmosphere:</label>
                    <select class="form-select" id="atmosphere">
                        <option value="none">None</option>
                        <option value="soft mist" selected>Soft Mist</option>
                        <option value="thick fog">Thick Fog</option>
                        <option value="sparkling air">Sparkling Air</option>
                        <option value="steamy haze" class="nsfw">Steamy Haze (NSFW)</option>
                    </select>
                    <label class="form-label" for="lightColor">Light Color:</label>
                    <select class="form-select" id="lightColor">
                        <option value="none">None</option>
                        <option value="warm golden light" selected>Warm Golden Light</option>
                        <option value="cool blue glow">Cool Blue Glow</option>
                        <option value="crimson hue">Crimson Hue</option>
                        <option value="violet aura">Violet Aura</option>
                    </select>
                    <label class="form-label" for="lightExtra">Extra Lighting (Optional):</label>
                    <input type="text" class="form-control" id="lightExtra" placeholder="e.g., lightning flashes, soft erotic glow (NSFW)">
                </div>
            </div>
        </div>

        <!-- Background and Setting -->
        <div class="card">
            <div class="card-header" data-bs-toggle="collapse" data-bs-target="#background">
                <h2 class="mb-0">Background and Setting</h2>
            </div>
            <div id="background" class="collapse show">
                <div class="card-body">
                    <label class="form-label" for="background">Background:</label>
                    <select class="form-select" id="background">
                        <option value="none">None</option>
                        <option value="blurred forest background" selected>Blurred Forest Background</option>
                        <option value="ancient ruins">Ancient Ruins</option>
                        <option value="mystic cavern">Mystic Cavern</option>
                        <option value="intimate bedroom" class="nsfw">Intimate Bedroom (NSFW)</option>
                        <option value="isekai portal" class="trend">Isekai Portal (2025 Trend)</option>
                    </select>
                    <label class="form-label" for="bgEffect">Background Effect:</label>
                    <select class="form-select" id="bgEffect">
                        <option value="none">None</option>
                        <option value="glowing magical aura" selected>Glowing Magical Aura</option>
                        <option value="swirling arcane energy">Swirling Arcane Energy</option>
                        <option value="flickering candlelight" class="nsfw">Flickering Candlelight (NSFW)</option>
                    </select>
                    <label class="form-label" for="bgExtra">Extra Background Detail (Optional):</label>
                    <input type="text" class="form-control" id="bgExtra" placeholder="e.g., glowing mushrooms, silk sheets (NSFW)">
                </div>
            </div>
        </div>

        <!-- Dialogue and Interaction -->
        <div class="card">
            <div class="card-header" data-bs-toggle="collapse" data-bs-target="#dialogue" aria-expanded="false" aria-controls="dialogue">
                <h2 class="mb-0">Dialogue and Interaction</h2>
            </div>
            <div id="dialogue" class="collapse">
                <div class="card-body">
                    <label class="form-label" for="interaction" id="interactionLabel">Interaction:</label>
                    <select class="form-select" id="interaction" aria-labelledby="interactionLabel">
                        <option value="none">None</option>
                        <option value="ghost sex" class="nsfw">Ghost Sex (NSFW)</option>
                        <option value="tentacle interaction" class="nsfw">Tentacle Interaction (NSFW)</option>
                        <option value="vampire bite" class="nsfw">Vampire Bite (NSFW, 2025 Trend)</option>
                        <option value="cybernetic interface">Cybernetic Interface (2025 Trend)</option>
                        <option value="trapped in cage, imprisoned" class="nsfw">Trapped in Cage, Imprisoned (NSFW)</option>
                        <option value="fucking, sex" class="nsfw">Fucking, Sex (NSFW)</option>
                        <option value="intense anal thrusting" class="nsfw">Intense Anal Thrusting (NSFW)</option>
                        <option value="rimming" class="nsfw">Rimming (NSFW)</option>
                        <option value="tentacle insertion" class="nsfw">Tentacle Insertion (NSFW)</option>
                    </select>
                    <label class="form-label" for="dialogueExtra" id="dialogueExtraLabel">Extra Dialogue (Optional):</label>
                    <input type="text" class="form-control" id="dialogueExtra" maxlength="100" placeholder="e.g., seductive taunts" aria-labelledby="dialogueExtraLabel">
                </div>
            </div>
        </div>

        <!-- Environment Details -->
        <div class="card">
            <div class="card-header" data-bs-toggle="collapse" data-bs-target="#environment" aria-expanded="false" aria-controls="environment">
                <h2 class="mb-0">Environment Details</h2>
            </div>
            <div id="environment" class="collapse">
                <div class="card-body">
                    <label class="form-label" for="envDetail" id="envDetailLabel">Environment Detail:</label>
                    <select class="form-select" id="envDetail" aria-labelledby="envDetailLabel">
                        <option value="none">None</option>
                        <option value="cow cage, farm">Cow Cage, Farm</option>
                        <option value="street market">Street Market</option>
                        <option value="cyberpunk alley">Cyberpunk Alley (2025 Trend)</option>
                        <option value="isekai tavern">Isekai Tavern (2025 Trend)</option>
                        <option value="flowers, meadow">Flowers, Meadow</option>
                    </select>
                    <label class="form-label" for="envExtra" id="envExtraLabel">Extra Environment Detail (Optional):</label>
                    <input type="text" class="form-control" id="envExtra" maxlength="100" placeholder="e.g., glowing mushrooms" aria-labelledby="envExtraLabel">
                </div>
            </div>
        </div>

        <!-- Generate and Copy Buttons -->
        <div class="text-center mb-4">
            <button class="btn btn-primary" onclick="generatePrompt()">Generate Prompt</button>
            <button class="btn btn-secondary ms-2" onclick="copyPrompt()">Copy Prompt</button>
        </div>

        <!-- Output Area -->
        <div id="finalPrompt" class="mt-3"></div>
    </div>

    <!-- Bootstrap 5 JS and Popper -->
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js" integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.min.js" integrity="sha384-0pUGZvbkm6XF6gxjEnlmuGrJXVbNuzT9qBBavbLwCsOGabYfZo0T0to5eqruptLy" crossorigin="anonymous"></script>
    <!-- Anime.js -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.2/anime.min.js" integrity="sha512-aNMyYYxdIxIaot0Y1/4M8Q16A1P3+pel2dp3pZ3yNKV4Cem2v3PCyFMP7kXGlhLBpXL+PHo08zmuO/9o+7wC6lw==" crossorigin="anonymous"></script>
    <script>
        // Enable Bootstrap tooltips
        const tooltipTriggerList = document.querySelectorAll('[data-bs-toggle="tooltip"]');
        [...tooltipTriggerList].map(tooltipTriggerEl => new bootstrap.Tooltip(tooltipTriggerEl));

        // Anime.js button animations
        document.querySelectorAll('.btn').forEach(btn => {
            btn.addEventListener('mouseenter', () => {
                anime({
                    targets: btn,
                    scale: 1.05,
                    duration: 200,
                    easing: 'easeOutQuad'
                });
            });
            btn.addEventListener('mouseleave', () => {
                anime({
                    targets: btn,
                    scale: 1,
                    duration: 200,
                    easing: 'easeOutQuad'
                });
            });
        });

        function generatePrompt() {
            try {
                const nsfwToggle = document.getElementById('nsfwToggle').checked;
                const inputs = {
                    artStyle: document.getElementById('artStyle').value,
                    artExtra: document.getElementById('artExtra').value,
                    cameraShot: document.getElementById('cameraShot').value,
                    cameraAngle: document.getElementById('cameraAngle').value,
                    cameraExtra: document.getElementById('cameraExtra').value,
                    effect1: document.getElementById('effect1').value,
                    effect2: document.getElementById('effect2').value,
                    bokeh: document.getElementById('bokeh').value,
                    effectExtra: document.getElementById('effectExtra').value,
                    characterType: document.getElementById('characterType').value,
                    hair: document.getElementById('hair').value,
                    hairEffect: document.getElementById('hairEffect').value,
                    eyes: document.getElementById('eyes').value,
                    pose: document.getElementById('pose').value,
                    bodyDetail: document.getElementById('bodyDetail').value,
                    charExtra: document.getElementById('charExtra').value,
                    tropeMain: document.getElementById('tropeMain').value,
                    tropeExtra: document.getElementById('tropeExtra').value,
                    attire: document.getElementById('attire').value,
                    weapon: document.getElementById('weapon').value,
                    accessory: document.getElementById('accessory').value,
                    attireExtra: document.getElementById('attireExtra').value,
                    lighting1: document.getElementById('lighting1').value,
                    lighting2: document.getElementById('lighting2').value,
                    atmosphere: document.getElementById('atmosphere').value,
                    lightColor: document.getElementById('lightColor').value,
                    lightExtra: document.getElementById('lightExtra').value,
                    background: document.getElementById('background').value,
                    bgEffect: document.getElementById('bgEffect').value,
                    bgExtra: document.getElementById('bgExtra').value,
                    interaction: document.getElementById('interaction')?.value ?? 'none',
                    dialogueExtra: document.getElementById('dialogueExtra')?.value ?? '',
                    envDetail: document.getElementById('envDetail')?.value ?? 'none',
                    envExtra: document.getElementById('envExtra')?.value ?? ''
                };

                const filterNSFW = (value, id) => {
                    if (!nsfwToggle) {
                        const selectElement = document.getElementById(id);
                        if (selectElement?.options[selectElement.selectedIndex]?.classList?.contains('nsfw')) {
                            return 'none';
                        }
                    }
                    return value;
                };

                const allParts = [];

                // Collect in order: camera, effects, lighting, character, background, attire, additional (interaction, env, dialogue), trope, art

                // Camera
                [inputs.cameraShot, inputs.cameraAngle, inputs.cameraExtra].forEach(part => {
                    if (part && part !== 'none') allParts.push(part);
                });

                // Effects
                [filterNSFW(inputs.effect1, 'effect1'), filterNSFW(inputs.effect2, 'effect2'), inputs.bokeh, inputs.effectExtra].forEach(part => {
                    if (part && part !== 'none') allParts.push(part);
                });

                // Lighting
                [inputs.lighting1, filterNSFW(inputs.lighting2, 'lighting2'), filterNSFW(inputs.atmosphere, 'atmosphere'), inputs.lightColor, inputs.lightExtra].forEach(part => {
                    if (part && part !== 'none') allParts.push(part);
                });

                // Character
                [filterNSFW(inputs.characterType, 'characterType'), inputs.hair, filterNSFW(inputs.hairEffect, 'hairEffect'), filterNSFW(inputs.eyes, 'eyes'), filterNSFW(inputs.pose, 'pose'), filterNSFW(inputs.bodyDetail, 'bodyDetail'), filterNSFW(inputs.charExtra, 'charExtra')].forEach(part => {
                    if (part && part !== 'none') allParts.push(part);
                });

                // Background
                [filterNSFW(inputs.background, 'background'), filterNSFW(inputs.bgEffect, 'bgEffect'), inputs.bgExtra].forEach(part => {
                    if (part && part !== 'none') allParts.push(part);
                });

                // Attire
                [filterNSFW(inputs.attire, 'attire'), inputs.weapon, filterNSFW(inputs.accessory, 'accessory'), filterNSFW(inputs.attireExtra, 'attireExtra')].forEach(part => {
                    if (part && part !== 'none') allParts.push(part);
                });

                // Additional: Interaction, Environment, Dialogue
                [filterNSFW(inputs.interaction, 'interaction'), inputs.dialogueExtra, filterNSFW(inputs.envDetail, 'envDetail'), inputs.envExtra].forEach(part => {
                    if (part && part !== 'none') allParts.push(part);
                });

                // Trope
                [filterNSFW(inputs.tropeMain, 'tropeMain'), filterNSFW(inputs.tropeExtra, 'tropeExtra')].forEach(part => {
                    if (part && part !== 'none') allParts.push(part);
                });

                // Art Style
                [inputs.artStyle, inputs.artExtra].forEach(part => {
                    if (part && part !== 'none') allParts.push(part);
                });

                // Dedupe
                const uniqueParts = [...new Set(allParts)];

                const finalPromptText = uniqueParts.join(', ');

                const finalPrompt = document.getElementById('finalPrompt');
                finalPrompt.style.display = 'block';
                finalPrompt.textContent = finalPromptText || 'No selections made.';
            } catch (error) {
                alert('Error generating prompt: ' + error.message);
            }
        }

        function copyPrompt() {
            try {
                const promptText = document.getElementById('finalPrompt').textContent;
                navigator.clipboard.writeText(promptText).then(() => {
                    alert('Prompt copied to clipboard!');
                });
            } catch (error) {
                alert('Error copying prompt: ' + error.message);
            }
        }
    </script>
</body>
</html>